doctype html
html
    head
        title= title

        meta(name='viewport' content="width=device-width, initial-scale=1.0")
        link(rel="preconnect" href="https://fonts.gstatic.com")
        link(href="https://fonts.googleapis.com/css2?family=Work+Sans:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,800;1,200&display=swap" rel="stylesheet")
        link(rel='stylesheet', href='https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css')
        link( type='text/css' href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet")
        link(rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css")
        link(rel='stylesheet', href='/stylesheets/base.css' type='text/css')


    body#page-top
        - function formatBill(bill){return new Intl.NumberFormat('vi-VI', { maximumSignificantDigits: 3 }).format(bill)}
        //include partials/header
        .display-relative
            include partials/header
            block banner
        main
            block content
        include partials/footer

        script(src='https://code.jquery.com/jquery-3.2.1.slim.min.js')
        script(src='https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js')
        script(src='https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js')
        script(src='/js/util.js')

        include admin/firebase_config.html
        script.
            // $(document).ready(() => {
            //     var navBar = $("#navbarResponsive")
            //
            //     function open_side_bar() {
            //         navBar.style.display = "block";
            //         navBar.style.width = "block";
            //         $("#close-sidebar-btn").style.display = 'block'
            //     }
            //
            //     navBar.click(()=>{
            //         open_side_bar()
            //     })
            //
            //     function close_side_bar() {
            //         navBar.style.display = "none";
            //         $("#close-sidebar-btn").style.display = 'none'
            //     }
            //
            //     $("#close-sidebar-btn").click(()=>{
            //         close_side_bar()
            //     })
            // })

            (function ($) {
                "use strict"; // Start of use strict

                // Smooth scrolling using jQuery easing
                $('a.js-scroll-trigger[href*="#"]:not([href="#"])').click(function () {
                    if (
                        location.pathname.replace(/^\//, "") ==
                        this.pathname.replace(/^\//, "") &&
                        location.hostname == this.hostname
                    ) {
                        var target = $(this.hash);
                        target = target.length
                            ? target
                            : $("[name=" + this.hash.slice(1) + "]");
                        if (target.length) {
                            $("html, body").animate(
                                {
                                    scrollTop: target.offset().top - 70,
                                },
                                1000,
                                "easeInOutExpo"
                            );
                            return false;
                        }
                    }
                });

                // Closes responsive menu when a scroll trigger link is clicked
                $(".js-scroll-trigger").click(function () {
                    $(".navbar-collapse").collapse("hide");
                });



                // Activate scrollspy to add active class to navbar items on scroll
                $("body").scrollspy({
                    target: "#mainNav",
                    offset: 100,
                });

                // Collapse Navbar
                var navbarCollapse = function () {
                    // console.log($(window).scrollTop())
                    if ($(window).scrollTop() < 150) {
                       // $("#mainNavOnScroll").addClass("d-none");
                        $("#mainNavOnScroll").css("top", "-63px");
                    } else {
                        // $("#mainNavOnScroll").removeClass("d-none");
                        $("#mainNavOnScroll").css("top", "0");
                    }
                };
                var resizeListen = () => {
                    if ($(window).width() < 769) {
                        $("#mainNav").addClass("d-none");

                        $("#mainNavOnScroll").addClass("d-none");

                        $("#mainNavReponsive").removeClass('d-none')
                    } else {
                        $("#mainNav").removeClass("d-none");

                        $("#mainNavOnScroll").removeClass("d-none");

                        $("#mainNavReponsive").addClass('d-none')
                    }
                }
                resizeListen()
                // Collapse now if page is not at top
                navbarCollapse();
                // Collapse the navbar when page is scrolled
                $(window).scroll(navbarCollapse);
                $(window).resize(resizeListen)


            })(jQuery); // End of use strict


            // $(document).ready(() => {
            //     window.onscroll = function () {
            //         scrollFunction()
            //     };
            //
            //     function scrollFunction() {
            //         if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
            //             $("#mainNavOnScroll").css("top", "0");
            //         } else {
            //             $("#mainNavOnScroll").css("top", "-50px");
            //         }
            //     }
            // })

        block script
